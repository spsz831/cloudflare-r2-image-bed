# ğŸŒŸ YangZhen å›¾åºŠ - Cloudflare R2 å›¾ç‰‡æ‰˜ç®¡æœåŠ¡

[![Cloudflare Workers](https://img.shields.io/badge/Cloudflare-Workers-orange?style=flat-square&logo=cloudflare)](https://workers.cloudflare.com/)
[![Cloudflare R2](https://img.shields.io/badge/Cloudflare-R2-blue?style=flat-square&logo=cloudflare)](https://developers.cloudflare.com/r2/)
[![License](https://img.shields.io/badge/License-MIT-green?style=flat-square)](LICENSE)
[![Version](https://img.shields.io/badge/Version-2.0.0-purple?style=flat-square)](https://github.com/spsz831/cloudflare-r2-image-bed)

> ğŸš€ åŸºäº Cloudflare R2 + Workers çš„ç°ä»£åŒ–å›¾åºŠæœåŠ¡ï¼ŒApple é£æ ¼ç•Œé¢ï¼Œå®Œå…¨å…è´¹ï¼Œæ— éœ€æ³¨å†Œå³å¯ä½¿ç”¨ï¼

## âœ¨ åœ¨çº¿ä½“éªŒ

**ğŸ”— [ç«‹å³ä½“éªŒå›¾åºŠæœåŠ¡](https://yangzhen-image-bed.pages.dev)**

æ— éœ€æ³¨å†Œï¼Œæ‰“å¼€å³ç”¨ï¼æ”¯æŒæ‹–æ‹½ä¸Šä¼ ã€æ‰¹é‡å¤„ç†ã€å®æ—¶é¢„è§ˆã€‚

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- **ğŸ Apple é£æ ¼ç•Œé¢** - ç®€æ´ä¼˜é›…çš„è®¾è®¡è¯­è¨€
- **ğŸ“± å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- **ğŸŒ™ æ·±è‰²æ¨¡å¼æ”¯æŒ** - è‡ªåŠ¨é€‚åº”ç³»ç»Ÿä¸»é¢˜
- **âš¡ æé€Ÿä¸Šä¼ ** - EdgeOne CDN å…¨çƒåŠ é€Ÿ
- **ğŸ”„ æ™ºèƒ½é‡è¯•** - è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼Œç¡®ä¿ä¸Šä¼ æˆåŠŸ

### ğŸ› ï¸ åŠŸèƒ½å®Œå¤‡
- **ğŸ“ æ‹–æ‹½ä¸Šä¼ ** - æ”¯æŒæ‹–æ‹½å’Œç‚¹å‡»é€‰æ‹©æ–‡ä»¶
- **ğŸ”„ æ‰¹é‡å¤„ç†** - åŒæ—¶ä¸Šä¼ å¤šä¸ªæ–‡ä»¶
- **ğŸ‘ï¸ å®æ—¶é¢„è§ˆ** - å›¾ç‰‡ä¸Šä¼ åç«‹å³é¢„è§ˆ
- **ğŸ“‹ å¤šæ ¼å¼å¤åˆ¶** - ç›´é“¾ã€Markdownã€HTML æ ¼å¼ä¸€é”®å¤åˆ¶
- **ğŸ“š å†å²è®°å½•** - æœ¬åœ°å­˜å‚¨ä¸Šä¼ å†å²ï¼Œæ”¯æŒæœç´¢å’Œç®¡ç†
- **ğŸ—‘ï¸ æ‰¹é‡ç®¡ç†** - æ”¯æŒå•ä¸ªåˆ é™¤å’Œæ‰¹é‡æ¸…ç©º

### ğŸ”§ æŠ€æœ¯ä¼˜åŠ¿
- **ğŸ†“ å®Œå…¨å…è´¹** - åŸºäº Cloudflare å…è´¹å¥—é¤
- **ğŸŒ å…¨çƒ CDN** - Cloudflare å…¨çƒè¾¹ç¼˜ç½‘ç»œåŠ é€Ÿ
- **ğŸ”’ å®‰å…¨å¯é ** - ä¼ä¸šçº§å®‰å…¨ä¿éšœ
- **ğŸ“Š æ™ºèƒ½ç›‘æ§** - è¯¦ç»†çš„ä¸Šä¼ æ—¥å¿—å’Œé”™è¯¯è¿½è¸ª
- **âš¡ é«˜æ€§èƒ½** - ä¼˜åŒ–çš„ç¼“å­˜ç­–ç•¥å’Œå‹ç¼©ç®—æ³•

## ğŸ–¼ï¸ ç•Œé¢é¢„è§ˆ

<div align="center">

### ğŸ  ä¸»ç•Œé¢
![ä¸»ç•Œé¢](https://yangzhen-image-bed.pages.dev/preview/main.png)

### ğŸ“± ç§»åŠ¨ç«¯ç•Œé¢
![ç§»åŠ¨ç«¯](https://yangzhen-image-bed.pages.dev/preview/mobile.png)

### ğŸ“‹ å†å²è®°å½•
![å†å²è®°å½•](https://yangzhen-image-bed.pages.dev/preview/history.png)

</div>

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

1. **Cloudflare è´¦æˆ·** - [æ³¨å†Œ Cloudflare](https://dash.cloudflare.com/sign-up)
2. **Wrangler CLI** - å®‰è£… Cloudflare å®˜æ–¹å·¥å…·
3. **Git** - ç”¨äºå…‹éš†ä»“åº“

### âš¡ ä¸€é”®éƒ¨ç½²

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/spsz831/cloudflare-r2-image-bed.git
cd cloudflare-r2-image-bed

# 2. å®‰è£… Wrangler CLI
npm install -g wrangler

# 3. ç™»å½• Cloudflare
wrangler login

# 4. åˆ›å»º R2 å­˜å‚¨æ¡¶
wrangler r2 bucket create image-bed

# 5. é…ç½® CORS
wrangler r2 bucket cors put image-bed --file cors-config.json

# 6. éƒ¨ç½² Worker
cd worker
wrangler deploy

# 7. éƒ¨ç½²å‰ç«¯
cd ../frontend
wrangler pages deploy . --project-name your-image-bed
```

### ğŸ”§ ç¯å¢ƒé…ç½®

åœ¨ `worker/wrangler.toml` ä¸­é…ç½®ï¼š

```toml
name = "image-bed-worker"
main = "src/index.js"
compatibility_date = "2023-12-01"

[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "image-bed"  # ä½ çš„ R2 å­˜å‚¨æ¡¶åç§°

[vars]
MAX_FILE_SIZE = "50"       # æœ€å¤§æ–‡ä»¶å¤§å°(MB)
ALLOWED_ORIGINS = "*"      # å…è®¸çš„æ¥æº
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
cloudflare-r2-image-bed/
â”œâ”€â”€ ğŸ“ frontend/              # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ ğŸ“„ index.html        # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ ğŸ“ css/
â”‚   â”‚   â””â”€â”€ ğŸ“„ style.css     # Apple é£æ ¼æ ·å¼
â”‚   â””â”€â”€ ğŸ“ js/
â”‚       â””â”€â”€ ğŸ“„ app.js        # æ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ ğŸ“ worker/               # Cloudflare Workers
â”‚   â”œâ”€â”€ ğŸ“„ wrangler.toml     # éƒ¨ç½²é…ç½®
â”‚   â”œâ”€â”€ ğŸ“„ package.json      # ä¾èµ–ç®¡ç†
â”‚   â””â”€â”€ ğŸ“ src/
â”‚       â””â”€â”€ ğŸ“„ index.js      # API åç«¯
â”œâ”€â”€ ğŸ“ docs/                 # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“„ deployment.md     # éƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ ğŸ“„ configuration.md  # é…ç½®è¯´æ˜
â”‚   â””â”€â”€ ğŸ“„ api-reference.md  # API æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ cors-config.json      # CORS é…ç½®
â””â”€â”€ ğŸ“„ README.md             # é¡¹ç›®è¯´æ˜
```

## ğŸ”Œ API æ¥å£

### ğŸ“¤ æ–‡ä»¶ä¸Šä¼ 
```http
POST /api/upload
Content-Type: multipart/form-data

{
  "file": <å›¾ç‰‡æ–‡ä»¶>
}
```

### ğŸ“¥ æ–‡ä»¶è·å–
```http
GET /api/file/{fileId}
```

### ğŸ—‘ï¸ æ–‡ä»¶åˆ é™¤
```http
DELETE /api/delete/{fileId}
```

### ğŸ“‹ æ–‡ä»¶åˆ—è¡¨
```http
GET /api/list?limit=50&cursor=xxx
```

### ğŸ¥ å¥åº·æ£€æŸ¥
```http
GET /api/health
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **HTML5** - è¯­ä¹‰åŒ–æ ‡ç­¾å’Œç°ä»£API
- **CSS3** - Flexbox/Gridå¸ƒå±€ï¼ŒåŠ¨ç”»æ•ˆæœ
- **Vanilla JavaScript** - åŸç”ŸJSï¼Œæ— æ¡†æ¶ä¾èµ–
- **Progressive Web App** - PWAç‰¹æ€§æ”¯æŒ

### åç«¯æŠ€æœ¯
- **Cloudflare Workers** - è¾¹ç¼˜è®¡ç®—å¹³å°
- **Cloudflare R2** - å¯¹è±¡å­˜å‚¨æœåŠ¡
- **Web Standards API** - Fetchã€FormDataã€Responseç­‰

### å¼€å‘å·¥å…·
- **Wrangler CLI** - Cloudflare å®˜æ–¹å¼€å‘å·¥å…·
- **Git** - ç‰ˆæœ¬æ§åˆ¶
- **Cloudflare Pages** - é™æ€ç½‘ç«™æ‰˜ç®¡

## ğŸ¨ è‡ªå®šä¹‰é…ç½®

### ğŸ­ ä¸»é¢˜å®šåˆ¶

ä¿®æ”¹ `frontend/css/style.css` ä¸­çš„CSSå˜é‡ï¼š

```css
:root {
  --primary-color: #10B981;     /* ä¸»è‰²è°ƒ */
  --secondary-color: #34D399;   /* è¾…åŠ©è‰² */
  --background: #f5f7fa;        /* èƒŒæ™¯è‰² */
  --text-color: #1d1d1f;        /* æ–‡å­—é¢œè‰² */
}
```

### âš™ï¸ ä¸Šä¼ é™åˆ¶

åœ¨ `worker/wrangler.toml` ä¸­è°ƒæ•´ï¼š

```toml
[vars]
MAX_FILE_SIZE = "100"          # è°ƒæ•´æœ€å¤§æ–‡ä»¶å¤§å°
ALLOWED_ORIGINS = "https://yourdomain.com"  # é™åˆ¶è®¿é—®æ¥æº
```

### ğŸ” å®‰å…¨è®¾ç½®

```javascript
// åœ¨ worker/src/index.js ä¸­æ·»åŠ 
const RATE_LIMIT = {
  requests: 100,    // æ¯å°æ—¶æœ€å¤§è¯·æ±‚æ•°
  window: 3600000   // æ—¶é—´çª—å£(æ¯«ç§’)
};
```

## ğŸ“Š ç›‘æ§ä¸æ—¥å¿—

### ğŸ“ˆ æ€§èƒ½ç›‘æ§

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
wrangler tail

# æŸ¥çœ‹å­˜å‚¨ä½¿ç”¨æƒ…å†µ
wrangler r2 bucket list

# æŸ¥çœ‹WorkeræŒ‡æ ‡
wrangler metrics
```

### ğŸ› é”™è¯¯æ’æŸ¥

å¸¸è§é—®é¢˜è§£å†³ï¼š

1. **ä¸Šä¼ å¤±è´¥** - æ£€æŸ¥CORSé…ç½®å’Œæ–‡ä»¶å¤§å°é™åˆ¶
2. **å›¾ç‰‡æ— æ³•æ˜¾ç¤º** - ç¡®è®¤R2å­˜å‚¨æ¡¶æƒé™è®¾ç½®
3. **éƒ¨ç½²å¤±è´¥** - æ£€æŸ¥wrangler.tomlé…ç½®å’Œè´¦æˆ·æƒé™

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### ğŸ”§ å¼€å‘ç¯å¢ƒ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/spsz831/cloudflare-r2-image-bed.git

# æœ¬åœ°å¼€å‘
cd worker
wrangler dev  # å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨

# å‰ç«¯å¼€å‘
cd frontend
# ä½¿ç”¨ä»»æ„HTTPæœåŠ¡å™¨ï¼Œå¦‚ python -m http.server 8000
```

### ğŸ“ æäº¤è§„èŒƒ

- `feat:` æ–°åŠŸèƒ½
- `fix:` é”™è¯¯ä¿®å¤
- `docs:` æ–‡æ¡£æ›´æ–°
- `style:` ä»£ç æ ¼å¼è°ƒæ•´
- `refactor:` ä»£ç é‡æ„
- `test:` æµ‹è¯•ç›¸å…³
- `chore:` æ„å»º/å·¥å…·ç›¸å…³

### ğŸ¯ è·¯çº¿å›¾

- [ ] ğŸ–¼ï¸ å›¾ç‰‡å‹ç¼©å’Œæ ¼å¼è½¬æ¢
- [ ] ğŸ“± PWAæ”¯æŒå’Œç¦»çº¿åŠŸèƒ½
- [ ] ğŸ” ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
- [ ] ğŸ“Š æ•°æ®ç»Ÿè®¡å’Œåˆ†æé¢æ¿
- [ ] ğŸŒ å¤šè¯­è¨€æ”¯æŒ
- [ ] ğŸ¤– AIå›¾ç‰‡æ ‡ç­¾å’Œæœç´¢

## ğŸ’¡ å¸¸è§é—®é¢˜

### â“ ä¸ºä»€ä¹ˆé€‰æ‹© Cloudflare R2ï¼Ÿ

1. **ğŸ†“ å…è´¹é¢åº¦å……è¶³** - æ¯æœˆ10GBå­˜å‚¨ï¼Œ1000ä¸‡æ¬¡è¯·æ±‚
2. **ğŸŒ å…¨çƒCDN** - è‡ªåŠ¨å…¨çƒåˆ†å‘ï¼Œè®¿é—®é€Ÿåº¦å¿«
3. **ğŸ”’ æ•°æ®å®‰å…¨** - ä¼ä¸šçº§å®‰å…¨ä¿éšœ
4. **ğŸ’° æˆæœ¬ä¼˜åŠ¿** - æ¯”AWS S3ä¾¿å®œ10å€

### â“ æ”¯æŒå“ªäº›å›¾ç‰‡æ ¼å¼ï¼Ÿ

æ”¯æŒæ‰€æœ‰ä¸»æµå›¾ç‰‡æ ¼å¼ï¼š
- **JPEG/JPG** - æœ€å¸¸ç”¨çš„ç…§ç‰‡æ ¼å¼
- **PNG** - æ”¯æŒé€æ˜èƒŒæ™¯
- **GIF** - æ”¯æŒåŠ¨ç”»
- **WebP** - ç°ä»£é«˜æ•ˆæ ¼å¼
- **SVG** - çŸ¢é‡å›¾å½¢

### â“ æœ‰ä¸Šä¼ å¤§å°é™åˆ¶å—ï¼Ÿ

é»˜è®¤é™åˆ¶50MBï¼Œå¯åœ¨é…ç½®ä¸­è°ƒæ•´ã€‚Cloudflare Workersé™åˆ¶æœ€å¤§100MBã€‚

### â“ å›¾ç‰‡ä¼šè¢«å‹ç¼©å—ï¼Ÿ

é»˜è®¤ä¸å‹ç¼©ï¼Œä¿æŒåŸå§‹è´¨é‡ã€‚å¯é€šè¿‡ä¿®æ”¹ä»£ç æ·»åŠ å‹ç¼©åŠŸèƒ½ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºåè®®ã€‚

## ğŸ™ è‡´è°¢

- [Cloudflare](https://cloudflare.com/) - æä¾›ä¼˜ç§€çš„è¾¹ç¼˜è®¡ç®—å¹³å°
- [Apple Design](https://developer.apple.com/design/) - è®¾è®¡çµæ„Ÿæ¥æº
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒ

## ğŸ“ è”ç³»æ–¹å¼

- **GitHub**: [@spsz831](https://github.com/spsz831)
- **Issues**: [æäº¤é—®é¢˜](https://github.com/spsz831/cloudflare-r2-image-bed/issues)
- **Discussions**: [å‚ä¸è®¨è®º](https://github.com/spsz831/cloudflare-r2-image-bed/discussions)

---

<div align="center">

**ğŸŒŸ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç»™å®ƒä¸€ä¸ª Starï¼**

[![Star History Chart](https://api.star-history.com/svg?repos=spsz831/cloudflare-r2-image-bed&type=Date)](https://star-history.com/#spsz831/cloudflare-r2-image-bed&Date)

**Made with â¤ï¸ by [YangZhen](https://github.com/spsz831)**

</div>